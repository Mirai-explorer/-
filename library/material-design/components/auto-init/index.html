<!DOCTYPE html>
<html class="mdc-typography" lang="zh-Hans">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" >
    <title>自动初始化</title>
    <meta name="description" content="Utilities for declarative, DOM-based initialization of components on simple web sites." />
    <link href="/library/material-design/css/fonts.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/library/material-design/css/codemirror.css">
    <link rel="stylesheet" href="/library/material-design/css/neo.css">
    <link rel="stylesheet" href="/library/material-design/css/app.css">
    <style>
        em {
            font-style: italic;
        }
    </style>
</head>
<body class="page page--detail page--components page--platform-web">
<div class = "page__content page__flex-element">
    <section class="page__main-section">
        <article class="page__article article ">
            <h1 id="auto-init">自动初始化</h1>
            <p><code>mdc-auto-init</code> 是一个实用程序包，它为简单 Web 站点上的 MDC Web 组件提供了基于 DOM 的声明式初始化方法。
                要注意的是，对于更高级的用例和更复杂的站点，手动实例化组件将为您提供更大的灵活性。不过，<code>mdc-auto-init</code>
                对于静态网站、原型和其他最适合简单和方便的用例非常有用。</p>
            <h2 id="installation">安装</h2>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 131.609px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 59px; min-width: 302.391px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 130.609px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">npm</span> <span class="cm-variable">install</span> <span class="cm-attribute">@material</span><span class="cm-operator">/</span><span class="cm-variable">auto</span><span class="cm-operator">-</span><span class="cm-keyword">init</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 59px;"></div><div class="CodeMirror-gutters" style="display: none; height: 72px;"></div></div></div>
            <h2 id="usage">用法</h2>
            <h3 id="using-as-part-of-material-components-web">作为 <code>material-components-web</code> 的一部分使用</h3>
            <p>如果您是将 mdc-auto-init 作为 <a href="https://github.com/material-components/material-components-web/tree/master/packages/material-components-web">material-components-web</a>
                套件的一个组件来用，则只需编写组件所需的 DOM，然后将 <code>data-mdc-auto-init</code>
                属性附加到根元素，并将其值设置为组件的 JavaScript 类名（例如 <code>MDCTextField</code> ）。
                在编写标记之后，只需插入一个调用 <code>mdc.autoInit()</code> 的脚本标签。
                要确保您是在所有脚本加载完成后再调用 <code>mdc.autoInit()</code> ，这样它便能正常发挥作用。</p>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 131.625px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 0px;"><div style="height: 100%; min-height: 1px; width: 693px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 329px; min-width: 693.266px; padding-right: 0px; padding-bottom: 17px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>&#8203;</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 130.625px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">label</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-text-field"</span> <span class="cm-attribute">data-mdc-auto-init</span>=<span class="cm-string">"MDCTextField"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-text-field__ripple"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-text-field__input"</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text"</span> <span class="cm-attribute">aria-labelledby</span>=<span class="cm-string">"label"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">span</span> <span class="cm-attribute">id</span>=<span class="cm-string">"label"</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-floating-label"</span><span class="cm-tag cm-bracket">&gt;</span>Input Label<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">span</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-line-ripple"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">label</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">&#8203;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!-- 位于页面底部 --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text/javascript"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-variable">window</span>.<span class="cm-property">mdc</span>.<span class="cm-property">autoInit</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 17px solid transparent; top: 329px;"></div><div class="CodeMirror-gutters" style="display: none; height: 359px;"></div></div></div>
            <p>这一示例附加了一个 <a href="/components/web/catalog/input-controls/text-field/">MDCTextField</a> 实例到根 <code>&lt;div&gt;</code> 元素。</p>
            <h4 id="accessing-the-component-instance">访问组件实例</h4>
            <p>当 <code>mdc-auto-init</code> 将组件附加到元素时，会使用名为 <code>data-mdc-auto-init</code> 值的属性将该示例分配
                给元素。例如，给定</p>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 69.4063px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 0px;"><div style="height: 100%; min-height: 1px; width: 693px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 194px; min-width: 693.266px; padding-right: 0px; padding-bottom: 17px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style=""><div class="CodeMirror-cursor" style="left: 68.4063px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">label</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-text-field"</span> <span class="cm-attribute">data-mdc-auto-init</span>=<span class="cm-string">"MDCTextField"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-text-field__ripple"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-text-field__input"</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text"</span> <span class="cm-attribute">aria-labelledby</span>=<span class="cm-string">"label"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">span</span> <span class="cm-attribute">id</span>=<span class="cm-string">"label"</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-floating-label"</span><span class="cm-tag cm-bracket">&gt;</span>Input Label<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">span</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-line-ripple"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">label</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 17px solid transparent; top: 194px;"></div><div class="CodeMirror-gutters" style="display: none; height: 224px;"></div></div></div>
            <p>一旦调用了 <code>mdc.autoInit()</code>，您就可以通过该元素的 <code>MDCTextField</code>
                属性访问组件示例。</p>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 353.672px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 59px; min-width: 657.719px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 352.672px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">document</span>.<span class="cm-property">querySelector</span>(<span class="cm-string">'.mdc-text-field'</span>).<span class="cm-property">MDCTextField</span>.<span class="cm-property">disabled</span> <span class="cm-operator">=</span> <span class="cm-atom">true</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 59px;"></div><div class="CodeMirror-gutters" style="display: none; height: 72px;"></div></div></div>
            <h4 id="calling-subsequent-mdcautoinit">随后调用 <code>mdc.autoInit()</code></h4>
            <p>如果您决定在初始的 <code>mdc.autoInit()</code>之后将新组件添加到 DOM 中，则可以随后调用 <code>mdc.autoInit()</code>，且不会重新初始化现有组件。这一方案是可行的，因为 mdc-auto-init 将添加 <code>data-mdc-auto-init-state="initialized"</code> 属性，该属性跟踪组件状态是否已初始化。调用 <code>mdc.autoInit()</code> 后，您的组件将如下所示：</p>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 104.953px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 0px;"><div style="height: 100%; min-height: 1px; width: 942px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 113px; min-width: 941.984px; padding-right: 0px; padding-bottom: 17px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 103.953px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">label</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-text-field"</span> <span class="cm-attribute">data-mdc-auto-init</span>=<span class="cm-string">"MDCTextField"</span> <span class="cm-attribute">data-mdc-auto-init-state</span>=<span class="cm-string">"initialized"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">label</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 17px solid transparent; top: 113px;"></div><div class="CodeMirror-gutters" style="display: none; height: 143px;"></div></div></div>
            <h3 id="using-as-a-standalone-module">用作独立模块</h3>
            <h4 id="registering-components">注册组件</h4>
            <p>如果您在 <code>mdc-auto-init</code> 之外使用 <code>material-components-web</code>，那么您必须手动提供
                 <code>data-mdc-auto-init</code> 属性值与其映射的组件之间的映射。这可以通过 <code>mdcAutoInit.register</code> 来实现。</p>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 176.016px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 140px; min-width: 480px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 175.016px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-def">mdcAutoInit</span> <span class="cm-keyword">from</span> <span class="cm-string">'@material/auto-init'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> {<span class="cm-def">MDCTextField</span>} <span class="cm-keyword">from</span> <span class="cm-string">'@material/textfield'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">&#8203;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mdcAutoInit</span>.<span class="cm-property">register</span>(<span class="cm-string">'MDCTextField'</span>, <span class="cm-variable">MDCTextField</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 140px;"></div><div class="CodeMirror-gutters" style="display: none; height: 153px;"></div></div></div>
            <p><code>mdcAutoInit.register()</code> 会告诉 <code>mdc-auto-init</code>，当遇到 <code>data-mdc-auto-init</code>
                属性设置为 <code>"MDCTextField"</code> 的元素时，应该在该元素中初始化一个 <code>MDCTextField</code> 实例。
                方便起见， <code>material-components-web</code> 套件会对所有组件执行此操作。</p>
            <p>还应注意，组件可以映射到任何字符串，不一定是其构造函数的名称。</p>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 202.656px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 140px; min-width: 586.594px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 201.656px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-def">mdcAutoInit</span> <span class="cm-keyword">from</span> <span class="cm-string">'@material/auto-init'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> {<span class="cm-def">MDCTextField</span>} <span class="cm-keyword">from</span> <span class="cm-string">'@material/textfield'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">&#8203;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mdcAutoInit</span>.<span class="cm-property">register</span>(<span class="cm-string">'My amazing text field!!!'</span>, <span class="cm-variable">MDCTextField</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 140px;"></div><div class="CodeMirror-gutters" style="display: none; height: 153px;"></div></div></div>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 25px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 0px;"><div style="height: 100%; min-height: 1px; width: 702px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 140px; min-width: 702.141px; padding-right: 0px; padding-bottom: 17px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 24px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">label</span> <span class="cm-attribute">class</span>=<span class="cm-string">"mdc-text-field"</span> <span class="cm-attribute">data-mdc-auto-init</span>=<span class="cm-string">"My amazing text field!!!"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-comment">&lt;!-- ... --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">label</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-variable">window</span>.<span class="cm-property">mdc</span>.<span class="cm-property">autoInit</span>();<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 17px solid transparent; top: 140px;"></div><div class="CodeMirror-gutters" style="display: none; height: 170px;"></div></div></div>
            <h3 id="de-registering-components">注销组件</h3>
            <p>任何组件都可以通过用于注册组件的名称，来调用 <code>mdcAutoInit.deregister</code> 进行注销。</p>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 158.25px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 59px; min-width: 373.422px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style=""><div class="CodeMirror-cursor" style="left: 157.25px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mdcAutoInit</span>.<span class="cm-property">deregister</span>(<span class="cm-string">'MDCTextField'</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 59px;"></div><div class="CodeMirror-gutters" style="display: none; height: 72px;"></div></div></div>
            <p>这一操作将单纯地删除 名称→组件 映射，<em>不会</em> 影响页面中任何已经实例化的组件。</p>
            <p>要注销所有 名称→组件 映射，您可以使用 <code>mdcAutoInit.deregisterAll()</code>。</p>
            <h2 id="how-mdc-auto-init-works"><code>mdc-auto-init</code> 是如何运作的</h2>
            <p><code>mdc-auto-init</code> 维护一个注册表对象，该对象将字符串标识符或<strong>名称</strong>映射到组件构造函数。
                当默认的导出函数 <code>mdcAutoInit()</code> 被调用时， <code>mdc-auto-init</code> 会通过
                <code>data-mdc-auto-init</code> 属性查询 DOM 中的所有元素。对于返回的每个元素，都将采取以下步骤：</p>
            <ol>
                <li>如果 <code>data-mdc-auto-init</code> 属性没有关联的值，则抛出错误</li>
                <li>如果注册表中找不到 <code>data-mdc-auto-init</code> 的值，则抛出错误</li>
                <li>如果已存在一个属性，其名称为 <code>data-mdc-auto-init</code> 的值，则假定该元素已被初始化。因此它会被忽略，
                    并将记录一条警告到控制台（此行为可以被覆盖）。</li>
                <li>假设 <code>Ctor</code> 是与寄存器中给定名称关联的组件构造函数</li>
                <li>令 <code>instance</code> 为调用 <code>Ctor.attachTo()</code> 并将元素作为参数传入的结果。</li>
                <li>在节点上创建一个不可写、不可枚举的属性，其名称为 <code>data-mdc-auto-init</code> 的值，值为
                    <code>instance</code>。</li>
            </ol>
            <h3 id="initializing-only-a-certain-part-of-the-page">仅初始化页面的特定部分</h3>
            <p>默认情况下， <code>mdc-auto-init</code> 将查询整个文档，以确定初始化哪些组件。要覆盖此行为，
                可以传入一个可选的 <code>root</code> 第一个参数，指定将查询其子节点以进行实例化的根节点。</p>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 176.031px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 0px; left: 0px;"><div style="height: 100%; min-height: 1px; width: 711px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 140px; min-width: 711.031px; padding-right: 0px; padding-bottom: 17px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 175.031px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">id</span>=<span class="cm-string">"mdc-section"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-comment">&lt;!-- MDC Web Components, etc. --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-variable">window</span>.<span class="cm-property">mdc</span>.<span class="cm-property">autoInit</span>(<span class="cm-variable">document</span>.<span class="cm-property">getElementById</span>(<span class="cm-string">'mdc-section'</span>));<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 17px solid transparent; top: 140px;"></div><div class="CodeMirror-gutters" style="display: none; height: 170px;"></div></div></div>
            <p>在上面的示例中，仅查询 <code>&lt;div id="mdc-section"&gt;</code> 内的元素。</p>
            <h3 id="calling-autoinit-multiple-times">多次调用 autoInit()</h3>
            <p>默认情况下， <code>mdc-auto-init</code> 只会在页面加载时调用一次。但是某些情况下，可能需要使用
                <code>mdc-auto-init</code> 并且仍然需要多次调用它，比如在一个 Wordpress 站点上包含一个无限
                滚动的新博客文章元素列表，其中还包含 MDC Web 组件。 <code>mdcAutoInit()</code> 接受一个可选的
                第二个参数，该参数用于在组件多次初始化时警告用户。默认情况下只是控制台警告 <code>console.warn()</code>。
                但是，要跳过已经初始化的组件而不记录警告，简单地传入一个 nop 即可。</p>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 122.734px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 59px; min-width: 631.109px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 121.734px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-variable">window</span>.<span class="cm-property">mdc</span>.<span class="cm-property">autoInit</span>(<span class="cm-comment">/* root */</span> <span class="cm-variable">document</span>, () <span class="cm-operator">=&gt;</span> {});<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 59px;"></div><div class="CodeMirror-gutters" style="display: none; height: 72px;"></div></div></div>            <p>这将禁止任何关于已初始化元素的警告。</p>
            <h3 id="events">事件</h3>
            <h4 id="mdcautoinitend">MDCAutoInit:End</h4>
            <p>所有组件初始化完成后触发。</p>
            <div class="CodeMirror cm-s-neo"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 17px; left: 78.2969px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 59px; min-width: 657.719px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 77.2969px; top: 0px; height: 27px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">document</span>.<span class="cm-property">addEventListener</span>(<span class="cm-string">"MDCAutoInit:End"</span>, () <span class="cm-operator">=&gt;</span> {...});</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 59px;"></div><div class="CodeMirror-gutters" style="display: none; height: 72px;"></div></div></div>
        </article>
    </section>
</div>
</body>
</html>
